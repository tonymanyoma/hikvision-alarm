"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var numberToHex_1 = require("../../util/numberToHex");
var calculateChecksum_1 = require("../../util/calculateChecksum");
var constants_1 = require("../constants");
/**
 * A message that is sent to the Elk M1
 */
var ElkCommand = /** @class */ (function () {
    function ElkCommand(messageType, subMessageType, data) {
        if (data === void 0) { data = ''; }
        this.messageType = messageType;
        this.subMessageType = subMessageType;
        this.data = data;
    }
    Object.defineProperty(ElkCommand.prototype, "raw", {
        get: function () {
            var message = "" + this.command + (this.data || '') + (this.reserved || constants_1.RESERVED_DEFAULT);
            var packetLength = numberToHex_1.default(message.length + 2, constants_1.PACKET_LENGTH_WIDTH);
            var checksum = calculateChecksum_1.default("" + packetLength + message);
            return "" + packetLength + message + checksum + constants_1.TERMINATOR;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ElkCommand.prototype, "command", {
        get: function () {
            return this.messageType + this.subMessageType;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ElkCommand.prototype, "reserved", {
        get: function () {
            return constants_1.RESERVED_DEFAULT;
        },
        enumerable: true,
        configurable: true
    });
    return ElkCommand;
}());
exports.default = ElkCommand;
//# sourceMappingURL=ElkCommand.js.map